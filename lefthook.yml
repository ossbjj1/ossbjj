pre-commit:
  parallel: true
  commands:
    dart-format:
      description: "Format Dart code before committing"
      run: cd app && dart format lib/ test/
    deno-format:
      description: "Format Supabase Edge Functions (Deno)"
      run: |
        if command -v deno >/dev/null 2>&1; then
          deno fmt supabase/functions
        else
          echo "deno not found, skipping deno fmt"
        fi

pre-push:
  parallel: false
  commands:
    flutter-analyze:
      description: "Run Flutter analyze before pushing"
      run: cd app && flutter analyze
    deno-fmt-check:
      description: "Verify Deno formatting before pushing"
      run: |
        if command -v deno >/dev/null 2>&1; then
          deno fmt --check supabase/functions
        else
          echo "deno not found, skipping deno fmt --check"
        fi
